(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[78170],{482131:(e,t,n)=>{n.d(t,{kz:()=>g,Y:()=>h,Tx:()=>b,Tb:()=>R});var r,o,a,i,c=function(e,t){return{name:e,value:void 0===t?-1:t,delta:0,entries:[],id:"v2-".concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)}},s=function(e,t){try{if(PerformanceObserver.supportedEntryTypes.includes(e)){if("first-input"===e&&!("PerformanceEventTiming"in self))return;var n=new PerformanceObserver((function(e){return e.getEntries().map(t)}));return n.observe({type:e,buffered:!0}),n}}catch(e){}},u=function(e,t){var n=function n(r){"pagehide"!==r.type&&"hidden"!==document.visibilityState||(e(r),t&&(removeEventListener("visibilitychange",n,!0),removeEventListener("pagehide",n,!0)))};addEventListener("visibilitychange",n,!0),addEventListener("pagehide",n,!0)},d=function(e){addEventListener("pageshow",(function(t){t.persisted&&e(t)}),!0)},l=function(e,t,n){var r;return function(o){t.value>=0&&(o||n)&&(t.delta=t.value-(r||0),(t.delta||void 0===r)&&(r=t.value,e(t)))}},p=-1,m=function(){return"hidden"===document.visibilityState?0:1/0},f=function(){u((function(e){var t=e.timeStamp;p=t}),!0)},v=function(){return p<0&&(p=m(),f(),d((function(){setTimeout((function(){p=m(),f()}),0)}))),{get firstHiddenTime(){return p}}},h=function(e,t){var n,r=v(),o=c("FCP"),a=function(e){"first-contentful-paint"===e.name&&(u&&u.disconnect(),e.startTime<r.firstHiddenTime&&(o.value=e.startTime,o.entries.push(e),n(!0)))},i=performance.getEntriesByName&&performance.getEntriesByName("first-contentful-paint")[0],u=i?null:s("paint",a);(i||u)&&(n=l(e,o,t),i&&a(i),d((function(r){o=c("FCP"),n=l(e,o,t),requestAnimationFrame((function(){requestAnimationFrame((function(){o.value=performance.now()-r.timeStamp,n(!0)}))}))})))},E=!1,w=-1,g=function(e,t){E||(h((function(e){w=e.value})),E=!0);var n,r=function(t){w>-1&&e(t)},o=c("CLS",0),a=0,i=[],p=function(e){if(!e.hadRecentInput){var t=i[0],r=i[i.length-1];a&&e.startTime-r.startTime<1e3&&e.startTime-t.startTime<5e3?(a+=e.value,i.push(e)):(a=e.value,i=[e]),a>o.value&&(o.value=a,o.entries=i,n())}},m=s("layout-shift",p);m&&(n=l(r,o,t),u((function(){m.takeRecords().map(p),n(!0)})),d((function(){a=0,w=-1,o=c("CLS",0),n=l(r,o,t)})))},S={passive:!0,capture:!0},_=new Date,y=function(e,t){r||(r=t,o=e,a=new Date,L(removeEventListener),T())},T=function(){if(o>=0&&o<a-_){var e={entryType:"first-input",name:r.type,target:r.target,cancelable:r.cancelable,startTime:r.timeStamp,processingStart:r.timeStamp+o};i.forEach((function(t){t(e)})),i=[]}},C=function(e){if(e.cancelable){var t=(e.timeStamp>1e12?new Date:performance.now())-e.timeStamp;"pointerdown"==e.type?function(e,t){var n=function(){y(e,t),o()},r=function(){o()},o=function(){removeEventListener("pointerup",n,S),removeEventListener("pointercancel",r,S)};addEventListener("pointerup",n,S),addEventListener("pointercancel",r,S)}(t,e):y(t,e)}},L=function(e){["mousedown","keydown","touchstart","pointerdown"].forEach((function(t){return e(t,C,S)}))},b=function(e,t){var n,a=v(),p=c("FID"),m=function(e){e.startTime<a.firstHiddenTime&&(p.value=e.processingStart-e.startTime,p.entries.push(e),n(!0))},f=s("first-input",m);n=l(e,p,t),f&&u((function(){f.takeRecords().map(m),f.disconnect()}),!0),f&&d((function(){var a;p=c("FID"),n=l(e,p,t),i=[],o=-1,r=null,L(addEventListener),a=m,i.push(a),T()}))},A=new Set,R=function(e,t){var n,r=v(),o=c("LCP"),a=function(e){var t=e.startTime;t<r.firstHiddenTime&&(o.value=t,o.entries.push(e)),n()},i=s("largest-contentful-paint",a);if(i){n=l(e,o,t);var p=function(){A.has(o.id)||(i.takeRecords().map(a),i.disconnect(),A.add(o.id),n(!0))};["keydown","click"].forEach((function(e){addEventListener(e,p,{once:!0,capture:!0})})),u(p,!0),d((function(r){o=c("LCP"),n=l(e,o,t),requestAnimationFrame((function(){requestAnimationFrame((function(){o.value=performance.now()-r.timeStamp,A.add(o.id),n(!0)}))}))}))}}},778170:(e,t,n)=>{n.d(t,{cA:()=>k,fM:()=>B,N5:()=>I});var r=n(667294),o=n(68348);const a=e=>{const{deviceType:t,isBot:n,isSocialBot:r}=e;return`coreWebVitalsLite.v1.${(r?"socialBot":n&&"bot")||"nonbot"}.${t}`};var i=n(731164),c=n(256721),s=n(182513),u=n(482131);const d=(0,s.X)("LayoutShiftDebugger"),l=e=>e instanceof HTMLElement&&e.dataset&&(e.dataset.layoutShiftBoundaryId||e.dataset.testId)||e.parentNode&&l(e.parentNode)||null,p=e=>Math.round(1e3*e);let m=[];const f=({staticContext:e,getCurrentRoute:t,getLastNavigationTime:n})=>{const r=(0,c.Jx)({annotateMarks:["initialAppLoad","RenderReactContainer"],name:"cumulative_layout_shift",pwtStaticContext:e});let o=0;const s=e=>{o=e.timeStamp};window.addEventListener("scroll",s),window.addEventListener("beforeunload",(()=>{window.removeEventListener("scroll",s)}));const f=`${a(e)}.CLS`,v=()=>(e=>{let t=Object.freeze({}),n=0;m.forEach((({value:e,shift:{sources:r},route:o,hadRecentNavigation:a,hadRecentScroll:i})=>{if(n+=e,!r||!r.length)return;const c=e/r.length;r.forEach((({node:e})=>{const n=e?l(e)||"ROOT":"NODE_REMOVED",r={route:o,boundaryId:n,hadRecentNavigation:a,hadRecentScroll:i},s=JSON.stringify(r);t={...t,[s]:{score:((t[s]||{}).score||0)+c,tags:r}}}))})),Object.keys(t).forEach((n=>{const{score:r,tags:o}=t[n];i.Z.count(`${e}.shifts`,p(r),1,{...o})})),d("Debug CLS boundaries",n,t,m),m=[]})(f);let h,E,w=0,g=0,S=0;(0,u.kz)((({entries:e,value:r})=>{if(S=r||0,e.length){h=t(),E=n();const a=e[0].startTime,i=w!==a,c=i?e:e.slice(g);i&&(w=a),m=m.concat(c.map((e=>({value:r,shift:e,route:h,hadRecentNavigation:E>0&&E+500>e.startTime,hadRecentScroll:o>0&&o+500>e.startTime})))),g=e.length}}),!0);const _=setInterval((()=>{if(m.length){v();const t=(e=S)<=.1?"good":e<=.25?"adequate":"poor";i.Z.count(`${f}.${t}`,1,1),r.stop(p(S))}var e}),1e3);window.addEventListener("beforeunload",(()=>{clearInterval(_),0===S&&r.abort("no_shifts_detected")}))};var v=n(265355);var h=n(641239);const E={pin_closeup:{LCP:"pin_closeup_lcp",FID:"pin_closeup_fid"},board:{LCP:"board_lcp",FID:"board_fid"}},w=["CA","GB","DE","FR","AU","JP","BR","MX"],g=({surface:e,isAuthenticated:t})=>{if(t)return[];switch(e){case"pin_closeup":return["mweb_pin_page_ssr_lite"];default:return[]}},S=({pwtStaticContext:e,surface:t})=>{const n="pin_closeup"===t||"board"===t?(({pwtStaticContext:e,surface:t})=>{const n=(0,c.Jx)({annotateExperiments:g({surface:t,isAuthenticated:e.isAuthenticated}),annotateResourceTimingForSurface:t,annotateMarks:["initialAppLoad","RenderReactContainer",...e.isAuthenticated?[]:["firstClientRenderUnauthPageWrapper","mountUnauthPageWrapper"],..."pin_closeup"===t?["firstClientRenderCloseupPage","firstClientRenderCloseupImage"]:[]],name:E[t].LCP,pwtStaticContext:e}),r=(0,c.Jx)({name:E[t].FID,pwtStaticContext:e});return(e,t)=>{"LCP"===e?n.stop(t):"FID"===e&&r.stop(t)}})({pwtStaticContext:e,surface:t}):null,{isAuthenticated:r,isBot:o,isSocialBot:s,deviceType:d,locale:l}=e,p=l.split("-")[1],m={},f=(c,u)=>{if(!m[c]){m[c]=!0;const l=a(e);if("LCPCount"===c){const e=`${l}.${t}.${c}`;i.Z.count(`${e}.sum`,u,1),i.Z.increment(`${e}.size`,1)}else i.Z.timing(`${l}.${t}.${c}`,u,1),!r&&w.includes(p)&&(({botType:e,deviceType:t,isChrome:n,region:r})=>{const o=`pwtlogger.${e}.${t}`,a=["all",...r?[r.toLowerCase()]:[]],i=["all",...n?["chrome"]:[]],c=[];return a.forEach((e=>{i.forEach((t=>{c.push(`${o}.region_${e}.browser_${t}`)}))})),c})({botType:(s?"socialBot":o&&"bot")||"nonbot",deviceType:d,isChrome:!0,region:(0,v.Z)(p)}).forEach((e=>{i.Z.timing(`${e}.tags.growthSEO.${t}_${c}`,u,1,{country:p})})),n&&n(c,u)}};(0,u.Tx)((({value:e})=>f("FID",(e=>Number(e.toFixed(2)))(e)))),(0,u.Tb)((({value:e})=>{f("LCPCount",(0,h.Kj)()),f("LCP",(e=>10*Math.round(e/10))(e))})),(0,u.Y)((({value:e})=>f("FCP",e)))},_=e=>{switch(e){case"/":return"homefeed";case"/pin/:id":return"pin_closeup";case"/pin/:id/visual-search":return"flashlight";case"/:username/:slug":return"board";case"/:username":return"other_profile";case"/search/:scope":return"search";case"/topics/:interest":return"topic";default:return null}};var y=n(164485),T=n(139585),C=n(840059),L=n(939606),b=n(133769),A=n(855168),R=n(785893);const x=(0,r.createContext)(null),$=(0,r.createContext)(null);function k({children:e,immutableLocation:t,resourceTimingCacheSize:n,routerHistoryAction:a,staticContext:i}){const s=(0,r.useRef)(null),u=(0,r.useRef)(null),d=(0,r.useRef)(t),l=(0,r.useRef)(!0),{path:p}=(0,A.$B)(),m=(0,r.useRef)(p),v=!i.isCachedRender&&(0,o.Z)(i.deviceType);if((0,r.useEffect)((()=>{m.current=p}),[p]),(0,r.useEffect)((()=>{if((0,b.X_)({size:n||1e3}),(0,h.UQ)(),(0,L.A9)("totalSessionVolume"),window.performance?["clearMarks","clearMeasures","clearResourceTimings","getEntries","getEntriesByName","getEntriesByType","mark","measure","now","setResourceTimingBufferSize"].forEach((e=>{window.performance[e]||(0,L.A9)(`not_supported.window.performance.${e}`)})):(0,L.A9)("not_supported.window.performance"),window.PerformanceObserver||(0,L.A9)("not_supported.window.PerformanceObserer"),(0,y.v)()||(0,L.A9)("not_supported.grid_profiler"),l.current=!1,v&&!C.is){if(((e,t)=>{let n,r=0,o=0,a=null,i=null,s=null,u=null,d=[];const l=()=>{o+=1,s=window.requestAnimationFrame(l)},p=()=>{if(u){const n=(0,c.Jx)({annotateExperiments:["scroll_gestalt_defer_pos_update"],name:"scroll_session",pwtStaticContext:e});if(!n)return;const o=d.some((e=>null!==a&&a-e>0&&a-e<=500)),s=t(),{isAuthenticated:u}=e,l={surface:s,isUserInvoked:o,isAuthenticated:u};if(null===a||null===i||0===r)null===a&&null===i?n.error("no_duration",l):null==a?n.error("no_start",l):null==i?n.error("no_end",l):n.error("no_frames",l);else{const e=i-a,t=e/r;0===t?n.error("zero_value",l):t<0?n.error("negative_value",l):(n.addBinaryAnnotation("isUserInvoked",o,"BOOL"),n.addBinaryAnnotation("surface",s,"STRING"),n.addBinaryAnnotation("isAuthenticated",u,"BOOL"),n.addBinaryAnnotation("scrollDuration",e,"I32"),n.addBinaryAnnotation("numberOfFrames",r,"I16"),n.stop(t))}}window.cancelAnimationFrame(s),r=0,o=0,d=[],i=null,a=null,u=null},m=({timeStamp:e})=>{n&&clearTimeout(n),n=setTimeout(p,500),null===u?(u=100*Math.random()<10,u&&(s=window.requestAnimationFrame(l),a=e)):u&&(i=e,r+=o,o=0)},f=({timeStamp:e})=>{d.push(e)};["wheel","pointerdown","keydown"].forEach((e=>{window.addEventListener(e,f,{passive:!0,capture:!0})})),window.addEventListener("scroll",m,{passive:!0}),window.addEventListener("pagehide",(()=>{window.removeEventListener("scroll",m),["wheel","pointerdown","keydown"].forEach((e=>{window.removeEventListener(e,f)}))}))})(i,(()=>_(m.current)?_(m.current)||"UNKNOWN_SURFACE":m.current||"UNKNOWN_SURFACE")),"Chrome"===i.browserName){f({staticContext:i,getCurrentRoute:()=>m.current,getLastNavigationTime:()=>u.current||0});const e=_(m.current);e&&S({pwtStaticContext:i,surface:e})}}}),[]),d.current!==t){d.current=t,u.current=null!==(E=window.performance)&&void 0!==E&&E.now?window.performance.now():null;const{current:e}=u;if(!l.current){const t=!s.current;(0,L.A9)("routeStart",{tags:{action:a}}),(0,b.Eg)(t),(0,h.Ux)(t),(0,h.on)(),(0,T.tl)();const{customBufferSize:n,defaultBufferSize:r}=(0,b.LH)();e&&((0,L.A9)("routeStart.customBufferSize",{count:n}),(0,L.A9)("routeStart.defaultBufferSize",{count:r}),s.current={time:e,action:a})}}var E;return(0,R.jsx)(x.Provider,{value:v?i:null,children:(0,R.jsx)($.Provider,{value:s.current,children:e})})}const B=()=>(0,r.useContext)($),I=()=>(0,r.useContext)(x)},576618:(e,t,n)=>{n.d(t,{D3:()=>a,rX:()=>i,jh:()=>c,Hd:()=>s});var r=n(344120),o=n(641239);const a=e=>({...(0,r.Z)(e),domComplete:e.domComplete||0,domContentLoadedEventEnd:e.domContentLoadedEventEnd||0,domContentLoadedEventStart:e.domContentLoadedEventStart||0,domInteractive:e.domInteractive||0,loadEventEnd:e.loadEventEnd||0,loadEventStart:e.loadEventStart||0}),i=()=>{const{firstInputDelay:e,largestContentfulPaint:t}=(0,o.v2)();return{firstInputDelayStart:(null==e?void 0:e.startTime)||0,firstInputDelayEnd:(null==e?void 0:e.endTime)||0,largestContentfulPaint:t||0}},c=(e,t)=>Object.keys(t).reduce(((n,r)=>({...n,[`${e}${r}`]:t[r]})),{}),s=(e,t)=>Object.keys(e).reduce(((n,r)=>t.includes(r)?{...n,[r]:e[r]}:n),Object.freeze({}))},344120:(e,t,n)=>{n.d(t,{Z:()=>r});const r=e=>({connectEnd:e.connectEnd||0,connectStart:e.connectStart||0,domainLookupEnd:e.domainLookupEnd||0,domainLookupStart:e.domainLookupStart||0,fetchStart:e.fetchStart||0,requestStart:e.requestStart||0,redirectEnd:e.redirectEnd||0,redirectStart:e.redirectStart||0,responseEnd:e.responseEnd||0,responseStart:e.responseStart||0,secureConnectionStart:e.secureConnectionStart||0,startTime:e.startTime||0,workerStart:e.workerStart||0,unloadEventStart:e.unloadEventStart||0,unloadEventEnd:e.unloadEventEnd||0})},842310:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(590606),o=n(344120),a=n(701812);const i=({category:e,isDeferred:t,isExternal:n})=>[e].concat(t?["deferred"]:[]).concat(n?["external"]:[]).join("_");function c(e,t){const{category:n,timing:c,isDeferred:s,isExternal:u,isVisuallyCompleteRequired:d}=e;return c.responseEnd&&("image"!==n||d)?{name:i(e),id:(0,r.Z)(),parentId:t,startTime:c.startTime,endTime:c.responseEnd,annotationMap:(0,o.Z)(c),binaryAnnotationMap:{category:(0,a.sk)(n),decodedBodySize:(0,a.cC)(c.decodedBodySize||0),initiatorType:(0,a.sk)(c.initiatorType),isDeferred:(0,a.qr)(s),isExternal:(0,a.qr)(u),name:(0,a.sk)(c.name),nextHopProtocol:(0,a.sk)(c.nextHopProtocol),transferSize:(0,a.cC)(c.transferSize||0)}}:null}},256721:(e,t,n)=>{n.d(t,{ku:()=>L,Jx:()=>y,PY:()=>C});var r=n(954321),o=n(641239);const a=()=>(0,o.PJ)().reduce(((e,{identifier:t,loadTime:n,renderTime:r})=>e[`${t}_loadTime`]?e[`${t}_dupe_loadTime`]?{...e,[`${t}_dupe_loadTime`]:n,[`${t}_dupe_renderTime`]:r}:e:{...e,[`${t}_loadTime`]:n,[`${t}_renderTime`]:r}),Object.freeze({}));var i=n(344120),c=n(576618),s=n(133769),u=n(715930);const d=e=>{switch(e){case"pin_closeup":{const e=(0,u.Z)();return(e=>{const t=(0,s.y0)();return e.reduce(((e,{name:n,match:r})=>t.filter((e=>r(e))).slice(0,2).reduce(((e,t,r)=>({...e,...(0,c.jh)(`${n}${r?"_dupe1":""}_`,(0,i.Z)(t))})),e)),Object.freeze({}))})([{name:"mainImage",match:({name:t})=>t===e},{name:"PinResource",match:({name:e})=>e.includes("PinResource")}])}default:return{}}};var l=n(403369),p=n(590606),m=n(299962),f=n(842310),v=n(182513),h=n(139585),E=n(940094),w=n(26382),g=n(939606);const S=(0,v.X)("LightStopwatch"),_={},y=({annotateExperiments:e,annotateMarks:t,annotateResourceTimingForSurface:n,name:o,pwtStaticContext:i})=>{const s=(()=>{let e=[],t=null;if(window.PerformanceObserver){const n=1e3;t=(0,l.Z)({entryTypes:["resource"]},(t=>{e=e.concat(t.getEntries()),e.length>n&&(e=e.slice(-n))}))}return{get:()=>e,disconnect:()=>{t&&t.disconnect()}}})();let u=!0,v={};(0,g.A9)(`TIMING.${o}`,{tags:{isAuth:i.isAuthenticated}});const y={type:"stopwatch",name:o,navigationType:"initial_app_load"},T={abort:e=>{u?(u=!1,(0,m.Z)({metricId:y,pwtStaticContext:i,result:{type:"ABORT",reason:e}})):(0,g.H)("duplicate_abort_action",{action:o})},error:(e,t)=>{const n={...t,action:o};u?(e&&(0,g.H)(e,n),s&&s.disconnect(),u=!1):(0,g.H)("duplicate_error_action",n)},stop:l=>{if(!u)return void(0,g.H)("duplicate_stop_action",{action:o});u=!1,s.disconnect();const S=(0,p.Z)(),_=(0,r.Z)(),T=s.get(),C={type:"COMPLETE",traceId:(0,p.Z)(),startTime:0,endTime:l,spans:[{name:"network_resources",id:S,startTime:0,endTime:l,annotationMap:{},binaryAnnotationMap:{},parentId:null},...T.map((e=>(0,f.Z)((0,E.p)(e,[]),S))).filter(Boolean)],annotationMap:{...(0,c.jh)("resource_",n?d(n):{}),...(0,c.jh)("element_",a()),...(0,c.jh)("mark_",t&&t.length?(0,c.Hd)((0,h.gQ)(),t):{}),...(0,c.jh)("browser_",_?(0,c.D3)(_):{})},binaryAnnotationMap:(0,w.n)({annotateExperiments:e,metricId:y,pwtStaticContext:i,performanceResourceTimings:T,binaryAnnotations:v})};(0,m.Z)({metricId:y,pwtStaticContext:i,result:C,isAuth:i.isAuthenticated})},addBinaryAnnotation:(e,t,n)=>{S(`adding binary annotation {${e}: ${String(t)}}`),v={...v,[e]:{value:t,type:n}}}};return _[o]=T,T},T=e=>_[e],C=e=>!!T(e),L=({stopwatchName:e,binaryAnnotationName:t,value:n,annotationType:r})=>{const o=T(e);o&&o.addBinaryAnnotation(t,n,r)}},715930:(e,t,n)=>{n.d(t,{f:()=>r,Z:()=>o});const r="closeupImage",o=()=>{if(!document.querySelector)return null;const e=document.querySelector('head>link[rel="preload"][as="image"][href^="https://i.pinimg.com/"]');return e instanceof HTMLLinkElement?e.href:null}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/78170-0a6a598159540fde.mjs.map